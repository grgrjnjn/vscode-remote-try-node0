// ã‚ãªãŸã¯å„ªç§€ãªãƒ—ãƒ­ã‚°ãƒ©ãƒã§ã™ã€‚
// ç§ã¯Linuxä¸Šã§ã€node.jsã¨seleniumï¼ˆãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼‰ã‚’ç”¨ã„ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’ã—ã¦ã„ã¾ã™ã€‚


// æ²ç¤ºæ¿ã®æŠ•ç¨¿è¨˜äº‹ã‚’JSONã«ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã€æŠ•ç¨¿è¨˜äº‹ã®é‡è¤‡ã‚’æ’é™¤ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œæˆã™ã‚‹ã€‚
// èª­ã¿è¾¼ã‚€ãƒ•ã‚¡ã‚¤ãƒ«
// data/content/merge_20240910131036.json
// ãƒ•ã‚¡ã‚¤ãƒ«åã¯èµ·å‹•æ™‚ã«æŒ‡å®šã™ã‚‹ã€‚
// å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«
// data/content/board_data_20240910112726.json
// ãƒ•ã‚¡ã‚¤ãƒ«åã¯ã€board_data_YYYYmmddhh24miss.json ã¨ã™ã‚‹ã€‚

// emailãŒåŒã˜å ´åˆã¯é‡è¤‡ã¨åˆ¤å®šã—ã€postTimeãŒæ–°ã—ã„æ–¹ã‚’æ®‹ã—ã€å¤ã„æ–¹ã‚’ç ´æ£„ã™ã‚‹ã€‚åŒä¸€æŠ•ç¨¿æ•°ã¯åˆè¨ˆå€¤ã«æ›´æ–°ã™ã‚‹ã€‚
// å‡ºåŠ›æ™‚ã«ã¯ã€postTimeã®é™é †ã«ã‚½ãƒ¼ãƒˆã™ã‚‹ã€‚

// ###JSONãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼‰
// [
//     {
//       "name": "ãƒ¬ã‚¤ãƒ©",
//       "email": "yorunonaminamida@gmail.com",
//       "ä½æ‰€": "æ±äº¬",
//       "å¹´é½¢": "18ã€œ24æ­³",
//       "ï½½ï¾€ï½²ï¾™": "å®Œå…¨å¥³è£…",
//       "ä½“å‹": "æ™®é€š",
//       "message": "ã—ã‚ƒã¶ã‚Šãƒƒã‚³ãŒå¥½ããªãŠå…„ã•ã‚“ä¸€ç·’ã«èˆã‚ã£ã“ã—ã‚ˆğŸŒå¸Œæœ›ã‚ã‚Œã°é€†ã‚¢ãƒŠã‚‚å¯èƒ½â­ï¸\nä½èº«é•·160ã›ã‚“ã¡ã€€50ãã‚ã€€Pã‚µã‚¤ã‚º17ã‚»ãƒ³ãƒğŸŒåœ°æ¯›ãƒ­ãƒ³ã‚°ğŸ–¤\nå¾Œæ—¥ç„¡ç†ã§ã™â­ï¸è¶³ç«‹åŒºâ­ï¸\nè¶³ã‚ã‚Šé™å®šã€€åˆå›ã¯è»Šå†…ğŸš™ğŸ’—\nãŠé¡˜ã„ã‚¢ãƒªå‹Ÿé›†ğŸ©·âœ¨\né¡”å†™ãƒ¡å¿…ãšã¤ã‘ã¦ã­ï¼ï¼ï¼\nğŸ†–â†’ã“ã¡ã‚‰ã®é¡”å†™ãƒ¡è¦æ±‚ï¼ˆæ‚ªç”¨ã•ã‚ŒãŸçµŒé¨“ã‚¢ãƒªã®ç‚ºï¼‰é…æ¼ãªäººã€€ä¸æ½”ãªäººã€€ã‚¤ãƒ³ãƒãªäºº",
//       "images": [
//         "https://oshioki24.com/board/view/4Y5ltDqwXUPlN67zXj3Hs6Agod1xYMe7",
//         "https://oshioki24.com/board/view/4Y5ltDqwXUPlN67zXj3Hs6Ag1VClSgIf"
//       ],
//       "postTime": "2024.09.10(ç«) 17:22",
//       "åŒä¸€æŠ•ç¨¿æ•°": 1
//     },
//     {
//       "name": "ã‚‚ãˆ",
//       "email": "shemeil10@yahoo.co.jp",
//       "ä½æ‰€": "æ±äº¬",
//       "å¹´é½¢": "18ã€œ24æ­³",
//       "ï½½ï¾€ï½²ï¾™": "ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ãƒ•",
//       "ä½“å‹": "æ™®é€š",
//       "message": "ã“ã‚Œã‹ã‚‰ç§‹è‘‰åŸé§…è¿‘ãã§ãƒ•ã‚§ãƒ©ã‹ã‚¨ãƒƒãƒã§ï¼ˆã‚¿ãƒ€ã§ã¯ãªã„ã§ã™ï¼‰ã€‚ã ã„ãŸã„ã®èƒŒä¸ˆå¹´é½¢ã«ç§‹è‘‰åŸé§…å‘¨è¾ºã«ä½•æ™‚é ƒãªã‚‹ã‹ã‚’å¿…ãšè¨˜è¼‰ã—ã¦ãã ã•ã„ã€‚å¾Œæ—¥ä»Šåº¦é€†ã‚¢ãƒŠã¯ä¸å¯NGã€‚é§…ã‹ã‚‰å°‘ã—æ­©ã„ãŸå ´æ‰€ã«ã²ã¨æ°—å°‘ãªã„å¤šç›®çš„ãƒˆã‚¤ãƒ¬ã¨é§…ã®æ”¹æœ­ã‹ã‚‰ã™ãæ­©ã„ãŸè¿‘ãã«ãƒ›ãƒ†ãƒ«ã‹ãƒ¬ãƒ³ã‚¿ãƒ«ãƒ«ãƒ¼ãƒ ãŒã‚ã‚Šã¾ã™ã€‚è»Šã®æ–¹ãªã‚‰è»Šå†…ã‚‚å¯ã€‚ã‚´ãƒ ãƒ­ãƒ¼ã‚·ãƒ§ãƒ³ã‚ã‚Šã¾ã™ã€‚å†™çœŸè©æ¬ºæ¥­è€…é‡£ã‚Šå‹Ÿé›†ã§ã¯ãªã„ã§ã™ã€‚è¦‹ãŸç›®å®¹å§¿ç‰¹å¾´ã¯è¨˜è¼‰ã—ã¦ã‚‹ä¸€åˆ‡åŠ å·¥ãªã—ã®ãƒãƒ¼ãƒãƒ«ã‚«ãƒ¡ãƒ©ç›´è‡ªæ’®ã‚Šå†™çœŸã¨ãƒ—ãƒ­ãƒ•é€šã‚Šã§ã™ã€‚èº«é•·163 æ™®é€šæ¨™æº–ä½“å‹51é«ªåœ°æ¯›ãƒ„ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ«ç«¥é¡”ãƒ›ãƒ«ä¹³Fã‚«ãƒƒãƒ—ã€€3ã‚µã‚¤ã‚º 92ãƒ¼58ãƒ¼87\nå…ˆç¨‹ã‹ã‚‰ç§ã®å†™çœŸã‚’ç„¡æ–­è»¢è¼‰ã—ã€å†™çœŸã¯åŠ å·¥ã¨è¨€ã„ã¤ã¤ç”»åƒã®é€šã‚Šãšã‚“ãã‚Šã‚€ã£ãã‚Šä½“å‹ãƒ‰ãƒ©ãƒ ç¼¶ä½“å‹ã¨æ„å‘³ä¸æ˜ãªæ”¯é›¢æ»…è£‚å˜˜ã®å«ŒãŒã‚‰ã›ã®æ›¸ãè¾¼ã¿ã¨ã€ä¼šã£ã¦ã™ã‚‰ãªã„ã®ã«æ–­ã£ã¦å¤§å£°å‡ºãªã©å®Ÿéš›ã«ç›¸æ‰‹ã«ã—ã¦ãªã„ã¯ãšãªã®ã«ã€ã“ã®å‰ã¯ãƒ•ã‚§ãƒ©ä¸‹æ‰‹ã§ãƒ•ã‚§ãƒ©ã ã‘ã§1å–ã‚‹ã¨ã‹ã¨ã¦ã‚‚çŸ›ç›¾ãªå¦¨å®³ã™ã‚‹ç‚ºã®å…¨éƒ¨äº‹å®Ÿç„¡æ ¹ã§å˜˜ãªæ›¸ãè¾¼ã¿ãªã®ã§é¨™ã•ã‚Œãšç„¡è¦–ã—ã¾ã—ã‚‡ã†ã€‚æ•£ã€…æ¨ã¦ã‚¢ãƒ‰è¤‡æ•°ãƒ¡ã‚¢ãƒ‰ã§ç…½ã‚Šãƒ¡ãƒ¼ãƒ«ã‚’ã‚„ã‚Šã€ç§ãŒæ›¸ãè¾¼ã¿ã™ã‚‹åº¦ã«è¢«ã›ã¦æ›¸ãè¾¼ã¿ã—ã¦ãã‚‹ç²˜ç€é­”ã®ã‚­ãƒã‚¬ã‚¤ã§ã™ã®ã§ã€é–“ã«å—ã‘ãšç„¡è¦–ã—ã¦ãã ã•ã„",
//       "images": [
//         "https://oshioki24.com/board/view/x95mAF3xrZ06SK3IqjwLKZQzqf6DIJEh",
//         "https://oshioki24.com/board/view/x95mAF3xrZ06SK3IqjwLKZQzu1OsXv9Z",
//         "https://oshioki24.com/board/view/x95mAF3xrZ06SK3IqjwLKZQz6OA8XTEJ"
//       ],
//       "postTime": "2024.09.10(ç«) 17:20",
//       "åŒä¸€æŠ•ç¨¿æ•°": 1
//     },
//     {
//       "name": "miu",
//       "email": "paipansm3@gmail.com",
//       "ä½æ‰€": "æ±äº¬",
//       "å¹´é½¢": "35ã€œ44æ­³",
//       "ï½½ï¾€ï½²ï¾™": "å®Œå…¨å¥³è£…",
//       "ä½“å‹": "æ™®é€š",
//       "message": "å¹´ä¸Šï¼•ï¼ä»£åŠã°ä»¥ä¸Šã®æ–¹ã§ã€ãƒ†ãƒ¬ã‚»ã¨è¨€ã†ã‚ˆã‚Šã‚‚å¤‰æ…‹çš„ãªä½“é¨“è«‡ã‚„åˆä½“é¨“ã®è©±ç­‰ã‚’ã‚¹ã‚«ã‚¤ãƒ•ã‚©ãƒ³ã§èããŸã„ã¨è¨€ã†æ–¹ã€‚ç§ã¯162-51ã€æ˜”å¥³ãƒ›ãƒ«ã‚‚ã‚„ã£ã¦ãŸãƒ‘ã‚¤ãƒ‘ãƒ³ã§ç²¾æ¶²ã‚’é£²ã¾ã•ã‚ŒãŸã‚Šã€ç¸›ã‚Šã‚„é¼»ãƒ•ãƒƒã‚¯ã«ãƒ•ã‚£ã‚¹ãƒˆã‚„æµ£è…¸ãƒ—ãƒ¬ã‚¤ã«ã‚‚æ„Ÿã˜ã‚‹ãƒ—ãƒ¬ã‚¤ã®æ™‚ã¯ç¾æ¥ç³»ã®ãƒ‰Mã«ãªã£ã¦ã—ã¾ã†å¤‰æ…‹æ€§å‡¦ç†æ·«ä¹±å…¬è¡†ä¾¿å¥³ã§ã™ã€‚\næ·±å¤œã«ãƒ¡ãƒƒã‚·ãƒ¥åœ°ã®ãƒœãƒ‡ã‚£ã‚¿ã‚¤ãƒ„ã‚„è–„æ‰‹ã®ã‚¹ã‚¯ãƒ¼ãƒ«æ°´ç€ç­‰ã§é¼»ãƒ•ãƒƒã‚¯ã‚’ä»˜ã‘ã‚‰ã‚Œã¦ã€ç™ºå±•å…¬åœ’ã®ãƒˆã‚¤ãƒ¬ã®å€‹å®¤ã®æ‰‰ã‚’é–‹ã‘ã‚‰ã‚ŒãŸã¾ã¾çŸ¥ã‚‰ãªã„ã‚ªã‚¸ã‚µãƒé”ã®å¤‰æ…‹æ€§å‡¦ç†å…¬è¡†è±šä¾¿å¥³ã¨ã—ã¦ä½¿ã‚ã‚Œã¦ã€æ¿ƒã„ã‚¶ãƒ¼ãƒ¡ãƒ³ã‚’ä½•äººã‚‚é£²ã¾ã•ã‚ŒãŸã‚Šã€è¨€è‘‰è²¬ã‚ã•ã‚ŒãªãŒã‚‰ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã®è¦‹ã¦ã‚‹å‰ã§å°ä¾¿å™¨ã‚’èˆã‚ã•ã›ã‚‰ã‚ŒãŸã‚Šã‚‚ã™ã‚‹äº‹ã«æ„Ÿã˜ã‚‹å¤‰æ…‹ã§ã™ã€‚æœ€è¿‘ã§ã¯ã€ãƒ›ãƒ¼ãƒ ãƒ¬ã‚¹ã®æ–¹ã€…ã®æ´—ã£ã¦ã„ãªã„è‡­ã„ã‚ªãƒãƒ³ãƒã‚’ãŠå£ã§æƒé™¤ã•ã›ã‚‰ã‚Œã‚‹äº‹ã«ã‚‚æ‚¦ã³ã‚’è¦šãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nå¤‰æ…‹çš„ãªãƒ—ãƒ¬ã‚¤ã‚„æ¿ƒã„ç²¾æ¶²ã‚’é£²ã¾ã›ã‚‹ã®ãŒãŠå¥½ããªæ–¹ã€è‰²ã€…å¤‰æ…‹çš„ãªé€šè©±ã‚’ã—ã¾ã›ã‚“ã‹ï¼Ÿãƒ†ãƒ¬ã‚»ã¯ã—ã¾ã›ã‚“ãŒã€ãƒãƒªè‰¯ãè©±ã‚’ãƒªãƒ¼ãƒ‰ã—ã¦ãã ã•ã‚‹ç²¾ç¥çš„ã«å¤‰æ…‹ä¾¿å¥³ã¨ã—ã¦å •ã¨ã—ã¦ãã ã•ã‚‹ã‚ˆã†ãªå¤‰æ…‹çš„ãªSæ°—ã®ã‚ã‚‹ã‚ªã‚¸ã‚µãƒã‹ã‚‰ã®ã„ã‚„ã‚‰ã—ã„é€£çµ¡ã‚’å¾…ã£ã¦ã„ã¾ã™ã€‚",
//       "images": [
//         "https://oshioki24.com/board/view/GXzicTsfbxEKPD2eBOX3fNO2iv2df03N",
//         "https://oshioki24.com/board/view/GXzicTsfbxEKPD2eBOX3fNO2w1EXj00w"
//       ],
//       "postTime": "2024.09.10(ç«) 17:18",
//       "åŒä¸€æŠ•ç¨¿æ•°": 1
//     },
//     {
//       "name": "ä¸‰",
//       "email": "ricponic@gmail.com",
//       "ä½æ‰€": "æ±äº¬",
//       "å¹´é½¢": "18ã€œ24æ­³",
//       "ï½½ï¾€ï½²ï¾™": "ä¸‹ç€å¥³è£…",
//       "ä½“å‹": "ç´°ãƒãƒƒãƒãƒ§",
//       "message": "å¥³è£…ã—ã¦ã¿ãŸã„ã§ã™\nå¥³è£…çµŒé¨“ã‚ã‚‹æ–¹ã¨ä¸€ç·’ã«å¥³è£…ã‚µãƒ­ãƒ³ã¨ã‹ãƒãƒ¼ã«è¡Œã£ã¦ä»²è‰¯ããªã‚ŠãŸã„ã§ã™\nèª°ã‚‚ã„ãªã„å…¬åœ’ã¨ã‹ã§ã‚«ãƒãƒ¬ã‚ºç¾æ¥ãƒ—ãƒ¬ã‚¤ã¨ã‹ã—ãŸã„",
//       "images": [],
//       "postTime": "2024.09.10(ç«) 17:17",
//       "åŒä¸€æŠ•ç¨¿æ•°": 1
//     },
//     {
//       "name": "ã‚Šãª",
//       "email": "love33rlna@docomo.ne.jp",
//       "ä½æ‰€": "æ±äº¬",
//       "å¹´é½¢": "35ã€œ44æ­³",
//       "ï½½ï¾€ï½²ï¾™": "ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ãƒ•",
//       "ä½“å‹": "æ™®é€š",
//       "message": "ã‚¨ãƒƒãƒã—ã¾ã—ã‚‡ã†å ´æ‰€ã‚¢ãƒªã§å°æ±åŒºã«ã™ã‚“ã§ã¾ã™\né»’è‚Œã®ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ãƒ•ã§ã™\næŠ€è¡“ã¯ã€ã‚¨ãƒƒãƒå¥½ããªã®ã§ãã‚Œãªã‚Šã«ã‚ã‚Šã¾ã™",
//       "images": [
//         "https://oshioki24.com/board/view/xnsh56dkJoqkNwtvEEqdoZQWaYOl2KPH",
//         "https://oshioki24.com/board/view/xnsh56dkJoqkNwtvEEqdoZQWm4BukhN1"
//       ],
//       "postTime": "2024.09.10(ç«) 17:16",
//       "åŒä¸€æŠ•ç¨¿æ•°": 1
//     },
//     {
//       "name": "ã¿ã¿",
//       "email": "mimichamketuman@yahoo.co.jp",
//       "ä½æ‰€": "æ±äº¬",
//       "å¹´é½¢": "25ã€œ34æ­³",
//       "ï½½ï¾€ï½²ï¾™": "å®Œå…¨å¥³è£…",
//       "ä½“å‹": "æ™®é€š",
//       "message": "ä»Šæ—¥ã‹æ˜æ—¥ã€æ¸‹è°·ã®ãƒ“ãƒ‡ã‚ªãƒœãƒƒã‚¯ã‚¹ã§\næ¡ä»¶æœ‰ã‚Šã§ãŠä¼šã„ã§ãã‚‹æ–¹ãƒ¡ãƒ¼ãƒ«ãã ã•ã„â£ï¸\n169/55/27\n18ã‚»ãƒ³ãƒå¤ªã‚\né€†ã‚¢ãƒŠã¨ç”ŸAFã¯ã§ããªã„ã§ã™ğŸ¥º\nç°¡å˜ãªãƒ—ãƒ­ãƒ•ä¹—ã›ã¦ãƒ¡ãƒ¼ãƒ«ãã ã•ã„â£ï¸\nãƒªãƒ”ã•ã‚“ã‚‚ãƒ¡ãƒ¼ãƒ«ãã ã•ã„ğŸ¥°\nã‚ã¨ã€è¿”ä¿¡æ¥ãªã„ãªã¨ã„ã†æ–¹ã¯ã€ãƒ¤ãƒ•ãƒ¼ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã§ãã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ãã ã•ã„ğŸ’¦",
//       "images": [
//         "https://oshioki24.com/board/view/L02HmP9KRHZzIsLaaT96Wp6gJZ5gpGb3",
//         "https://oshioki24.com/board/view/L02HmP9KRHZzIsLaaT96Wp6gWICtXfuI",
//         "https://oshioki24.com/board/view/L02HmP9KRHZzIsLaaT96Wp6gbCWpkIMX"
//       ],
//       "postTime": "2024.09.10(ç«) 17:16",
//       "åŒä¸€æŠ•ç¨¿æ•°": 1
//     },
//     {
//       "name": "ã¾ãª",
//       "email": "hndto_tk@yahoo.co.jp",
//       "ä½æ‰€": "æ±äº¬",
//       "å¹´é½¢": "25ã€œ34æ­³",
//       "ï½½ï¾€ï½²ï¾™": "å®Œå…¨å¥³è£…",
//       "ä½“å‹": "æ™®é€š",
//       "message": "å ´æ‰€ã‚ã‚‹ã®ã§ã€ã“ã‚Œã‹ã‚‰\nãƒ•ã‚§ãƒ©ã©ã†ã§ã™ã‹ï¼Ÿ\nåœ°æ¯›æ˜ã‚‹ã‚ãƒ­ãƒ³ã‚°167-66\næ±Ÿæˆ¸å·åŒºã€ã‚ˆã‚ã—ãã§ã™ï½",
//       "images": [],
//       "postTime": "2024.09.10(ç«) 17:14",
//       "åŒä¸€æŠ•ç¨¿æ•°": 1
//     },
    // {
    //   "name": "ã¡ã²ã‚",
    //   "email": "sweetyappi@hotmail.com",
    //   "ä½æ‰€": "æ±äº¬",
    //   "å¹´é½¢": "35ã€œ44æ­³",
    //   "ï½½ï¾€ï½²ï¾™": "å®Œå…¨å¥³è£…",
    //   "ä½“å‹": "æ™®é€š",
    //   "message": "ã“ã‚“ã«ã¡ã¯ã€‚ãŠä¼šã„ã§ãã‚‹ã¨ã„ã„ãªã€‚\nè‚‰ä½“é›ãˆã¦ã‚‹ã‚¹ãƒãƒ¼ãƒ„ç³»ã‚¤ã‚¯ãƒ¡ãƒ³ã•ã‚“ã€å­¦ç”Ÿã•ã‚“ã€å¥³æ€§ã«é£½ãã¦æ–°ã—ã„åˆºæ¿€ã‚’æ±‚ã‚ã¦ã‚‹æ–¹å…¥ã‚Œã°æ˜¯éè©¦ã—ã¦ã¿ã¦ã­ï¼ãƒ‘ãƒ³ãƒ—ã‚¢ãƒƒãƒ—ä¸­ã§æ€§æ¬²æŠ‘ãˆãã‚Œãªãã¦åå£æ¢ã—ã¦ã‚‹ãƒãƒ³ã‚±ã•ã‚“ã€‚ã‚‚ã¡ã‚ã‚“ç„¡æ–™ã§ã™ãŒã€ãƒ—ãƒ­ãƒ•ã¨å†™ã¯ã‚ˆã‚ã—ãã­ã€‚éƒ½å†…ã€å ´æ‰€ã‚ã‚Šã€‚",
    //   "images": [
    //     "https://oshioki24.com/board/view/Ew9zdmfeFBAGQc3aZhOgJDmC1UAxcMSl"
    //   ],
    //   "postTime": "2024.09.10(ç«) 17:11",
    //   "åŒä¸€æŠ•ç¨¿æ•°": 1
    // },
//     {
//       "name": "ã‚¢ã‚ªãƒŸãƒ¼",
//       "email": "m3h2-aommy@yahoo.co.jp",
//       "ä½æ‰€": "æ±äº¬",
//       "å¹´é½¢": "18ã€œ24æ­³",
//       "ï½½ï¾€ï½²ï¾™": "ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ãƒ•",
//       "ä½“å‹": "æ™®é€š",
//       "message": "ã‚¿ã‚¤ã‹ã‚‰æ¥ãŸãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ãƒ•ã§ã™\nä¸Šé‡ã®ãƒ›ãƒ†ãƒ«ã«ã‚¹ãƒ†ã‚¤ã—ã¦ã„ã¾ã™\nã„ã€ã¡ã€ã”ã‚ªãƒ¼ã‚±ãƒ¼ãªã²ã¨ãƒ¡ãƒ¼ãƒ«ãã ã•ã„",
//       "images": [
//         "https://oshioki24.com/board/view/p30Itmp4oBfgx0q6M0fT4NxcUmzHS2Tn",
//         "https://oshioki24.com/board/view/p30Itmp4oBfgx0q6M0fT4NxcoAd7Rzsb",
//         "https://oshioki24.com/board/view/p30Itmp4oBfgx0q6M0fT4NxckSuyBZqA"
//       ],
//       "postTime": "2024.09.10(ç«) 17:11",
//       "åŒä¸€æŠ•ç¨¿æ•°": 1
//     },
//     {
//       "name": "ã»ãŸã‚‹",
//       "email": "nh.hotaru@gmail.com",
//       "ä½æ‰€": "æ±äº¬",
//       "å¹´é½¢": "25ã€œ34æ­³",
//       "ï½½ï¾€ï½²ï¾™": "ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ãƒ•",
//       "ä½“å‹": "æ™®é€š",
//       "message": "æ–°æ©‹ã§ã‚ªã‚¤ãƒ«ãŸã£ã·ã‚Šä½¿ã£ãŸå¯†ç€ã‚ªã‚¤ãƒ«ãƒãƒƒã‚µãƒ¼ã‚¸ã‚’å—ã‘ãŸã„ãŠå…„æ§˜ã”é€£çµ¡å¾…ã£ã¦ã¾ã™â™¡",
//       "images": [
//         "https://oshioki24.com/board/view/UVc7qStnUu9xMD9Iom357R8Vzpy5Y1Ox"
//       ],
//       "postTime": "2024.09.10(ç«) 17:09",
//       "åŒä¸€æŠ•ç¨¿æ•°": 1
//     }
//   ]


const fs = require('fs').promises;
const path = require('path');

async function removeDuplicatesAndSort(inputFileName) {
    try {
        // å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æ§‹ç¯‰
        const inputPath = path.join(__dirname, '..', '..', 'data', 'content', inputFileName);

        // JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
        const data = JSON.parse(await fs.readFile(inputPath, 'utf8'));

        // é‡è¤‡ã‚’æ’é™¤ã—ãƒãƒ¼ã‚¸å‡¦ç†
        const mergedData = {};

        for (const item of data) {
            const email = item.email;
            if (!mergedData[email] || new Date(item.postTime) > new Date(mergedData[email].postTime)) {
                if (mergedData[email]) {
                    item.åŒä¸€æŠ•ç¨¿æ•° += mergedData[email].åŒä¸€æŠ•ç¨¿æ•°;
                }
                mergedData[email] = item;
            } else {
                mergedData[email].åŒä¸€æŠ•ç¨¿æ•° += item.åŒä¸€æŠ•ç¨¿æ•°;
            }
        }

        // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é…åˆ—ã«å¤‰æ›ã—ã€postTimeã§ã‚½ãƒ¼ãƒˆ
        const sortedData = Object.values(mergedData).sort((a, b) => 
            new Date(b.postTime) - new Date(a.postTime)
        );

        // å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ç”Ÿæˆ
        const now = new Date();
        const timestamp = now.getFullYear() +
                          ('0' + (now.getMonth() + 1)).slice(-2) +
                          ('0' + now.getDate()).slice(-2) +
                          ('0' + now.getHours()).slice(-2) +
                          ('0' + now.getMinutes()).slice(-2) +
                          ('0' + now.getSeconds()).slice(-2);
        const outputFileName = `board_data_${timestamp}.json`;

        // å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æ§‹ç¯‰
        const outputPath = path.join(__dirname, '..', '..', 'data', 'content', outputFileName);

        // ã‚½ãƒ¼ãƒˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’æ–°ã—ã„JSONãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€
        await fs.writeFile(outputPath, JSON.stringify(sortedData, null, 2));

        console.log(`é‡è¤‡æ’é™¤ã¨ã‚½ãƒ¼ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸã€‚å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«: ${outputPath}`);
    } catch (error) {
        console.error('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:', error);
    }
}

// ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å–å¾—
const inputFileName = process.argv[2];

if (!inputFileName) {
    console.error('ä½¿ç”¨æ–¹æ³•: node script.js <input_file_name>');
    process.exit(1);
}

removeDuplicatesAndSort(inputFileName);